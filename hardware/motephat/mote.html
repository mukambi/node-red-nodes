
<script type="text/x-red" data-template-name="rpi-mote">
    <div class="form-row">
        <label for="node-input-brightness"><i class="fa fa-sun-o"></i> Brightness</label>
        <input type="text" id="node-input-brightness" placeholder="0 to 100, default 20" style="width:150px;"> %
    </div>
    <br/>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name">
    </div>
    </script>
    
    <script type="text/x-red" data-help-name="rpi-mote">
        <p>Raspberry Pi Mote pHAT Node</p>
        <p>A pixel is set by a <code>payload</code> containing a CSV string <code>c,x,r,g,b</code>.
        <code>c</code> and <code>x</code> can be a single index value (0 to 3 for <code>c</code> and 0 to 15 for <code>x</code>),
        a range, eg <code>2-5</code>, a list of specific indicies, eg <code>1:3:5</code> or <code>*</code> to indicate the whole range.
        Multiple pixels strings can also be sent as <code>c1,x1,r1,g1,b1,c2,x2,r2,g2,b2,...</code>. 
        Channels can be filled as a whole by omitting the x argument, eg <code>1,255,0,0</code> and multiple colours can be supplied which will be cycled through on a loop, eg <code>1,255,0,0,0,0,255</code> would fill channel 1 with alternating red and blue.</p>
        <p>Passing just RGB values will fill all channels with the given colour, eg <code>255,0,0</code> would fill all channels in red. In addition, you can provide multiple RGB values to cycle through on a loop, eg <code>255,0,0,0,0,255</code> would fill all channels with alternating red and blue.</p>
        <p>Setting <code>payload</code> to <code>CLEAR</code> will clear all channels.</p>
        <p>The brightness may be set by setting <code>payload</code> to <code>brightness,nn</code> where nn is 0 to 100.</p>
    </script>
    
    <script type="text/javascript">
        RED.nodes.registerType('rpi-mote',{
            category: 'Raspberry Pi',
            color:"#c6dbef",
            defaults: {
                name: { value:"" },
                brightness: { value:"" }
            },
            inputs:1,
            outputs:0,
            icon: "rpi.png",
            align: "right",
            label: function() {
                return this.name||"MOTE";
            },
            labelStyle: function() {
                return this.name?"node_label_italic":"";
            }
        });
    </script>